# IP-05: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

## –°–º—ã—Å–ª –∏ —Ü–µ–ª—å –∑–∞–¥–∞—á–∏

–°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ä–µ–±–µ–Ω–∫–∞ –≤ –ü–æ–Ω–∏–º–∞–ª–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–æ—Å—Ç –∏ –ø–æ–º–æ–≥–∞–µ—Ç —Å–∏—Å—Ç–µ–º–µ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ–¥ –Ω—É–∂–¥—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ–±–µ–Ω–∫–∞. –ü—Ä–æ–≥—Ä–µ—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∏–¥–µ–Ω –Ω–µ —Ç–æ–ª—å–∫–æ –≤ –∏–≥—Ä–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫–∞—Ö (XP, —É—Ä–æ–≤–Ω–∏), –Ω–æ –∏ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö learning profile –∏ emotional state. –°–∏—Å—Ç–µ–º–∞ —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏, –Ω–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
src/progress/
‚îú‚îÄ‚îÄ progress_tracker.py          # –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ç—Ä–µ–∫–µ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
‚îú‚îÄ‚îÄ user_profile.py              # –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –ø—Ä–æ—Ñ–∏–ª—è
‚îú‚îÄ‚îÄ learning_profile_analyzer.py # –ê–Ω–∞–ª–∏–∑ learning profile –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îú‚îÄ‚îÄ emotional_history.py         # –ò—Å—Ç–æ—Ä–∏—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
‚îî‚îÄ‚îÄ achievements.py              # –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (–±–∞–∑–æ–≤–∞—è)

src/analytics/
‚îú‚îÄ‚îÄ session_analyzer.py          # –ê–Ω–∞–ª–∏–∑ —Å–µ—Å—Å–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îú‚îÄ‚îÄ adaptation_engine.py         # –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
‚îî‚îÄ‚îÄ insights_generator.py        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–Ω—Å–∞–π—Ç–æ–≤ –¥–ª—è —Ä–µ–±–µ–Ω–∫–∞/—Ä–æ–¥–∏—Ç–µ–ª—è

src/visualization/
‚îú‚îÄ‚îÄ progress_formatter.py        # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ chart_generator.py           # ASCII/—ç–º–æ–¥–∑–∏-–≥—Ä–∞—Ñ–∏–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

src/data/user_profiles/
‚îî‚îÄ‚îÄ {user_id}.json               # JSON —Ñ–∞–π–ª –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

src/data/analytics/
‚îú‚îÄ‚îÄ daily_stats/                 # –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–∞–≥—Ä–µ–≥–∞—Ç—ã)
‚îî‚îÄ‚îÄ sessions/                    # –õ–æ–≥–∏ —Å–µ—Å—Å–∏–π (–¥–ª—è –∞–Ω–∞–ª–∏–∑–∞)
```

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ user profile

```json
{
  "user_id": 123,
  "telegram_id": 456789,
  "created_at": "2025-11-01T10:00:00Z",
  "last_active": "2025-11-07T15:30:00Z",

  "onboarding": {
    "completed": true,
    "completed_at": "2025-11-01T10:15:00Z",
    "chosen_subject": "math",
    "difficulty_type": "understanding_meaning",
    "initial_emotional_state": "doubt"
  },

  "learning_profile": {
    "understanding_meaning": 5,
    "memory": 3,
    "attention": 4,
    "motivation": 2,
    "history": [
      {
        "date": "2025-11-01",
        "understanding_meaning": 3,
        "memory": 3,
        "attention": 3,
        "motivation": 1
      },
      {
        "date": "2025-11-07",
        "understanding_meaning": 5,
        "memory": 3,
        "attention": 4,
        "motivation": 2
      }
    ]
  },

  "emotional_state": {
    "current": "interest",
    "last_updated": "2025-11-07T15:30:00Z",
    "history": [
      {"date": "2025-11-01T10:00:00Z", "state": "doubt"},
      {"date": "2025-11-01T11:30:00Z", "state": "interest"},
      {"date": "2025-11-03T16:00:00Z", "state": "tiredness"},
      {"date": "2025-11-07T15:30:00Z", "state": "interest"}
    ]
  },

  "world": {
    "current_location": "tower_confusion",
    "unlocked_locations": ["tower_confusion", "valley_words", "forest_calm"],
    "visited_locations": ["tower_confusion", "forest_calm"],
    "location_progress": {
      "tower_confusion": {
        "first_visit": "2025-11-01T10:20:00Z",
        "last_visit": "2025-11-07T15:00:00Z",
        "visits_count": 5,
        "quests_completed": 2,
        "npcs_met": ["keeper_of_terms"],
        "mini_games_played": ["word_simplifier"]
      },
      "forest_calm": {
        "first_visit": "2025-11-02T19:00:00Z",
        "last_visit": "2025-11-05T20:30:00Z",
        "visits_count": 3,
        "quests_completed": 1,
        "npcs_met": [],
        "mini_games_played": ["catch_breath_dbt"]
      }
    }
  },

  "quests": {
    "completed": [
      {
        "quest_id": "tower_quest_01_simple_words",
        "completed_at": "2025-11-01T11:00:00Z",
        "duration_seconds": 600,
        "score": 0.9,
        "steps_skipped": 0
      },
      {
        "quest_id": "forest_quest_01_breathing",
        "completed_at": "2025-11-02T19:20:00Z",
        "duration_seconds": 300,
        "score": 1.0,
        "steps_skipped": 0
      }
    ],
    "abandoned": [
      {
        "quest_id": "city_quest_02_facts_opinions",
        "abandoned_at": "2025-11-03T16:15:00Z",
        "steps_completed": 2,
        "total_steps": 5
      }
    ],
    "in_progress": []
  },

  "reality_bridges": {
    "active": [
      {
        "id": "rb_tower_01",
        "quest_id": "tower_quest_01_simple_words",
        "created_at": "2025-11-07T11:00:00Z",
        "deadline": "2025-11-09T11:00:00Z",
        "status": "active",
        "reminder_sent": false
      }
    ],
    "completed": [
      {
        "id": "rb_forest_01",
        "quest_id": "forest_quest_01_breathing",
        "completed_at": "2025-11-03T08:30:00Z",
        "user_response": "–î–∞, —Å–¥–µ–ª–∞–ª —Ç—Ä–∏ –≤–¥–æ—Ö–∞ –ø–µ—Ä–µ–¥ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π",
        "success": true
      }
    ],
    "expired": []
  },

  "progress": {
    "level": 2,
    "experience_points": 45,
    "next_level_xp": 100,
    "total_quests_completed": 2,
    "total_reality_bridges_completed": 1,
    "total_sessions": 7,
    "total_time_minutes": 120,
    "streak_days": 3,
    "last_streak_date": "2025-11-07"
  },

  "achievements": {
    "unlocked": [
      {
        "id": "first_quest",
        "title": "–ü–µ—Ä–≤—ã–π —à–∞–≥",
        "unlocked_at": "2025-11-01T11:00:00Z"
      },
      {
        "id": "three_day_streak",
        "title": "–¢—Ä–∏ –¥–Ω—è –ø–æ–¥—Ä—è–¥",
        "unlocked_at": "2025-11-03T10:00:00Z"
      }
    ]
  },

  "sessions": {
    "current_session_id": "session_123_456",
    "session_start": "2025-11-07T15:00:00Z",
    "recent_sessions": [
      {
        "session_id": "session_123_455",
        "start": "2025-11-06T16:00:00Z",
        "end": "2025-11-06T16:30:00Z",
        "duration_minutes": 30,
        "locations_visited": ["tower_confusion"],
        "quests_completed": 1,
        "emotional_state_start": "interest",
        "emotional_state_end": "interest"
      }
    ]
  },

  "preferences": {
    "language": "ru",
    "timezone": "Europe/Moscow",
    "notifications_enabled": true,
    "parent_dashboard_enabled": false
  },

  "metadata": {
    "schema_version": "1.0",
    "last_backup": "2025-11-07T00:00:00Z"
  }
}
```

## –ü–æ–ª–Ω—ã–π flow —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

### 1. –ù–∞—á–∞–ª–æ —Å–µ—Å—Å–∏–∏

1. –†–µ–±–µ–Ω–æ–∫ –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞
2. ProgressTracker.start_session(user_id)
3. –°–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è —Å–µ—Å—Å–∏—è:
   ```python
   session = {
       "session_id": generate_uuid(),
       "user_id": user_id,
       "start": now(),
       "emotional_state_start": get_current_emotion(user_id),
       "activities": []
   }
   ```
4. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è streak:
   - –ï—Å–ª–∏ last_active –±—ã–ª –≤—á–µ—Ä–∞ ‚Üí streak_days += 1
   - –ï—Å–ª–∏ gap > 1 –¥–µ–Ω—å ‚Üí streak_days = 1
   - –ï—Å–ª–∏ streak –¥–æ—Å—Ç–∏–≥–∞–µ—Ç 3, 7, 14, 30 –¥–Ω–µ–π ‚Üí —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å achievement
5. –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º:
   ```
   –ü—Ä–∏–≤–µ—Ç! –†–∞–¥ —Ç–µ–±—è –≤–∏–¥–µ—Ç—å üòä
   –£—Ä–æ–≤–µ–Ω—å: 2 (45/100 XP)
   –°–µ—Ä–∏—è: 3 –¥–Ω—è –ø–æ–¥—Ä—è–¥ üî•
   ```

### 2. –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ —Å–µ—Å—Å–∏–∏

–ö–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è:

1. –í—Ö–æ–¥ –≤ –ª–æ–∫–∞—Ü–∏—é ‚Üí log_activity("location_entry", {"location": "tower_confusion"})
2. –ù–∞—á–∞–ª–æ –∫–≤–µ—Å—Ç–∞ ‚Üí log_activity("quest_start", {"quest_id": "..."})
3. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–∞ ‚Üí log_activity("quest_complete", {"quest_id": "...", "score": 0.9, "duration": 600})
4. –°–º–µ–Ω–∞ —ç–º–æ—Ü–∏–∏ ‚Üí log_activity("emotion_change", {"from": "interest", "to": "tiredness"})
5. Mini-game ‚Üí log_activity("mini_game", {"game_id": "...", "result": "win"})

–í—Å–µ activity —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ session.activities[]

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ learning profile

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–≤–µ—Å—Ç–∞:

1. Quest –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç learning_profile –∏–∑–º–µ–Ω–µ–Ω–∏—è:
   ```python
   rewards = {
       "learning_profile": {
           "understanding_meaning": +2,
           "motivation": +1
       }
   }
   ```
2. ProgressTracker.update_learning_profile(user_id, changes)
3. –ü—Ä–æ—Ñ–∏–ª—å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:
   - understanding_meaning: 3 ‚Üí 5
   - motivation: 1 ‚Üí 2
4. –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç milestone (5, 10, 15):
   - –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "üéâ –¢–≤–æ—ë –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å–º—ã—Å–ª–æ–≤ –≤—ã—Ä–æ—Å–ª–æ –¥–æ —É—Ä–æ–≤–Ω—è 5!"
   - –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å achievement (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
5. –ò—Å—Ç–æ—Ä–∏—è learning_profile –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (—Ä–∞–∑ –≤ –¥–µ–Ω—å):
   ```json
   {
     "date": "2025-11-07",
     "understanding_meaning": 5,
     "memory": 3,
     "attention": 4,
     "motivation": 2
   }
   ```

### 4. –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ XP –∏ —É—Ä–æ–≤–Ω–µ–π

1. –ü–æ—Å–ª–µ –∫–≤–µ—Å—Ç–∞, Reality Bridge –∏–ª–∏ mini-game ‚Üí –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è XP
2. ProgressTracker.add_xp(user_id, amount)
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ level up:
   ```python
   if current_xp >= next_level_xp:
       level += 1
       next_level_xp = calculate_next_level_xp(level)  # –ù–∞–ø—Ä–∏–º–µ—Ä, 100 * level
       show_level_up_message(level)
   ```
4. Level up —Å–æ–æ–±—â–µ–Ω–∏–µ:
   ```
   ‚ú® –£–†–û–í–ï–ù–¨ 3! ‚ú®
   –¢—ã –∑–¥–æ—Ä–æ–≤–æ –ø—Ä–æ–¥–≤–∏–≥–∞–µ—à—å—Å—è! –û—Ç–∫—Ä—ã—Ç–∞ –Ω–æ–≤–∞—è –ª–æ–∫–∞—Ü–∏—è: –ì–æ—Ä–æ–¥ –†–∞–∑—É–º–∞.
   ```

### 5. Streak (—Å–µ—Ä–∏—è –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥)

1. –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ:
   - –ï—Å–ª–∏ last_active –±—ã–ª –≤—á–µ—Ä–∞ ‚Üí streak_days += 1
   - –ï—Å–ª–∏ gap > 1 –¥–µ–Ω—å ‚Üí streak_days = 1
2. Streak motivation:
   ```
   üî• –°–µ—Ä–∏—è: 5 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥!
   –ï—â—ë 2 –¥–Ω—è –¥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è "–ù–µ–¥–µ–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è" üèÜ
   ```
3. –ï—Å–ª–∏ streak –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è:
   - –ú—è–≥–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: "–î–∞–≤–Ω–æ –Ω–µ –≤–∏–¥–µ–ª–∏—Å—å! –ù–∞—á–Ω—ë–º –Ω–æ–≤—É—é —Å–µ—Ä–∏—é? üòä"
   - –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞–∫ –Ω–µ—É–¥–∞—á—É

### 6. Emotional history tracking

1. –ö–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ —Å–º–µ–Ω–µ —ç–º–æ—Ü–∏–∏ ‚Üí log –≤ emotional_state.history
2. EmotionalHistory.analyze_patterns(user_id):
   - –ö–∞–∫–∏–µ —ç–º–æ—Ü–∏–∏ —á–∞—â–µ –≤—Å–µ–≥–æ?
   - –í –∫–∞–∫–æ–µ –≤—Ä–µ–º—è –¥–Ω—è –∫–∞–∫–∏–µ —ç–º–æ—Ü–∏–∏?
   - –ü–æ—Å–ª–µ –∫–∞–∫–∏—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –∫–∞–∫–∏–µ —ç–º–æ—Ü–∏–∏?
3. –ò–Ω—Å–∞–π—Ç—ã –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏:
   - –ï—Å–ª–∏ "tiredness" —á–∞—Å—Ç–æ –≤–µ—á–µ—Ä–æ–º ‚Üí —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å Forest of Calm
   - –ï—Å–ª–∏ "anger" –ø–æ—Å–ª–µ —Å–ª–æ–∂–Ω—ã—Ö –∫–≤–µ—Å—Ç–æ–≤ ‚Üí –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –ø—Ä–æ—â–µ
   - –ï—Å–ª–∏ "interest" —Å—Ç–∞–±–∏–ª—å–Ω–æ ‚Üí –º–æ–∂–Ω–æ —É—Å–ª–æ–∂–Ω—è—Ç—å

### 7. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏

1. –†–µ–±–µ–Ω–æ–∫ –≥–æ–≤–æ—Ä–∏—Ç "–ü–æ–∫–∞" –∏–ª–∏ /end
2. ProgressTracker.end_session(session_id)
3. –ü–æ–¥—Å—á–µ—Ç –∏—Ç–æ–≥–æ–≤ —Å–µ—Å—Å–∏–∏:
   - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
   - –ö–≤–µ—Å—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
   - XP –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ
   - –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (start vs end)
4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ sessions.recent_sessions[]
5. –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ:
   ```
   –ö–ª–∞—Å—Å–Ω–∞—è —Å–µ—Å—Å–∏—è! üéâ
   –í—Ä–µ–º—è: 25 –º–∏–Ω—É—Ç
   –ö–≤–µ—Å—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: 1
   XP: +10
   –£–≤–∏–¥–∏–º—Å—è –∑–∞–≤—Ç—Ä–∞? üòä
   ```

### 8. –ê–¥–∞–ø—Ç–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

AdaptationEngine –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç:

1. **–°–ª–æ–∂–Ω–æ—Å—Ç—å –∫–≤–µ—Å—Ç–æ–≤**:
   - –ï—Å–ª–∏ completion_rate < 30% ‚Üí –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –ø—Ä–æ—â–µ –∫–≤–µ—Å—Ç—ã
   - –ï—Å–ª–∏ completion_rate > 80% ‚Üí –º–æ–∂–Ω–æ —É—Å–ª–æ–∂–Ω—è—Ç—å
2. **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ª–æ–∫–∞—Ü–∏–π**:
   - –ï—Å–ª–∏ –≤ Tower of Confusion –º–Ω–æ–≥–æ abandoned –∫–≤–µ—Å—Ç–æ–≤ ‚Üí –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å –ø–æ–∫–∞
   - –ï—Å–ª–∏ –≤ Forest of Calm –≤—ã—Å–æ–∫–∏–π success rate ‚Üí —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å —á–∞—â–µ
3. **–ß–∞—Å—Ç–æ—Ç–∞ Reality Bridge**:
   - –ï—Å–ª–∏ completion_rate < 20% ‚Üí —Ä–µ–∂–µ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å
   - –ï—Å–ª–∏ completion_rate > 60% ‚Üí –º–æ–∂–Ω–æ —á–∞—â–µ
4. **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–µ—Å—Å–∏–π**:
   - –ï—Å–ª–∏ —Å—Ä–µ–¥–Ω—è—è —Å–µ—Å—Å–∏—è < 10 –º–∏–Ω—É—Ç ‚Üí –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
   - –ï—Å–ª–∏ —Å—Ä–µ–¥–Ω—è—è —Å–µ—Å—Å–∏—è > 30 –º–∏–Ω—É—Ç ‚Üí –º–æ–∂–Ω–æ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –¥–ª–∏–Ω–Ω—ã–µ –∫–≤–µ—Å—Ç—ã

## API –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

### ProgressTracker

**start_session(user_id: int) -> str**
- –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é
- –û–±–Ω–æ–≤–ª—è–µ—Ç streak
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç session_id

**end_session(session_id: str) -> dict**
- –ó–∞–≤–µ—Ä—à–∞–µ—Ç —Å–µ—Å—Å–∏—é
- –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∏—Ç–æ–≥–∏
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ user profile
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–≤–æ–¥–∫—É —Å–µ—Å—Å–∏–∏

**log_activity(session_id: str, activity_type: str, data: dict) -> None**
- –õ–æ–≥–∏—Ä—É–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏
- activity_type: "quest_start", "quest_complete", "location_entry", "emotion_change", ...

**update_learning_profile(user_id: int, changes: dict) -> None**
- –û–±–Ω–æ–≤–ª—è–µ—Ç learning profile
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç milestones
- –û–±–Ω–æ–≤–ª—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é (—Ä–∞–∑ –≤ –¥–µ–Ω—å)

**add_xp(user_id: int, amount: int) -> dict**
- –ù–∞—á–∏—Å–ª—è–µ—Ç XP
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç level up
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: {"level_up": bool, "new_level": int, "current_xp": int}

**get_progress_summary(user_id: int) -> dict**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å
- Level, XP, streak, total quests, total time, learning profile

**get_recent_sessions(user_id: int, limit: int = 5) -> list**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ N —Å–µ—Å—Å–∏–π

### LearningProfileAnalyzer

**get_profile_changes(user_id: int, days: int = 7) -> dict**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è learning profile –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ N –¥–Ω–µ–π
- –§–æ—Ä–º–∞—Ç: {"understanding_meaning": +2, "memory": 0, ...}

**get_strongest_dimension(user_id: int) -> str**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç dimension —Å –Ω–∞–∏–≤—ã—Å—à–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º

**get_weakest_dimension(user_id: int) -> str**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç dimension —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ–º

**visualize_profile(user_id: int) -> str**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ/—ç–º–æ–¥–∑–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- –ù–∞–ø—Ä–∏–º–µ—Ä: "–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Å–º—ã—Å–ª–æ–≤: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/10)"

### EmotionalHistory

**log_emotion(user_id: int, emotion: str) -> None**
- –õ–æ–≥–∏—Ä—É–µ—Ç —Ç–µ–∫—É—â—É—é —ç–º–æ—Ü–∏—é –≤ –∏—Å—Ç–æ—Ä–∏—é

**get_emotion_patterns(user_id: int, days: int = 7) -> dict**
- –ê–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —ç–º–æ—Ü–∏–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ N –¥–Ω–µ–π
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: {"most_frequent": "interest", "time_patterns": {...}}

**get_emotion_triggers(user_id: int) -> dict**
- –ö–∞–∫–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤—ã–∑—ã–≤–∞—é—Ç –∫–∞–∫–∏–µ —ç–º–æ—Ü–∏–∏
- –ù–∞–ø—Ä–∏–º–µ—Ä: {"quest_complete" ‚Üí "interest", "quest_abandon" ‚Üí "anger"}

### AdaptationEngine

**analyze_user(user_id: int) -> dict**
- –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞, —ç–º–æ—Ü–∏–π, –ø–æ–≤–µ–¥–µ–Ω–∏—è
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏

**adjust_difficulty(user_id: int) -> str**
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏: "easy", "medium", "hard"

**recommend_quest_type(user_id: int) -> list[str]**
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç —Ç–∏–ø—ã –∫–≤–µ—Å—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏–∏

**should_offer_reality_bridge(user_id: int) -> bool**
- –°—Ç–æ–∏—Ç –ª–∏ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å Reality Bridge (–Ω–∞ –æ—Å–Ω–æ–≤–µ completion_rate)

### Achievements (–±–∞–∑–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞)

**check_and_unlock(user_id: int) -> list[dict]**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏—è –≤—Å–µ—Ö achievement
- –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–µ
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –Ω–æ–≤—ã—Ö achievement

**get_unlocked(user_id: int) -> list[dict]**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ achievement

**get_progress_to_next(user_id: int) -> dict**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –∫ —Å–ª–µ–¥—É—é—â–∏–º achievement
- –ù–∞–ø—Ä–∏–º–µ—Ä: "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å: 5/7 –ª–æ–∫–∞—Ü–∏–π –ø–æ—Å–µ—â–µ–Ω–æ"

## –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```
Bot Activity (quest complete, location enter, etc.)
         ‚Üì
  ProgressTracker.log_activity()
         ‚Üì
    Session updated
         ‚Üì
  ProgressTracker.update_learning_profile() / add_xp()
         ‚Üì
  UserProfile updated (JSON)
         ‚Üì
  AdaptationEngine.analyze_user()
         ‚Üì
  –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π
         ‚Üì
  EmotionalHistory.log_emotion()
         ‚Üì
  –ü–∞—Ç—Ç–µ—Ä–Ω—ã —ç–º–æ—Ü–∏–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è
```

## –ü–æ—Ä—è–¥–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ user profile (2-3 —á–∞—Å–∞)

1. –†–∞—Å—à–∏—Ä–∏—Ç—å user_profile.py —Å –ø–æ–ª–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π (JSON schema)
2. –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π (–µ—Å–ª–∏ –µ—Å—Ç—å)
3. CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è user profile

### –≠—Ç–∞–ø 2: Session tracking (2-3 —á–∞—Å–∞)

1. ProgressTracker —Å –º–µ—Ç–æ–¥–∞–º–∏ start_session, end_session, log_activity
2. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –≤ —Å–µ—Å—Å–∏–∏
3. –ü–æ–¥—Å—á–µ—Ç –∏—Ç–æ–≥–æ–≤ —Å–µ—Å—Å–∏–∏

### –≠—Ç–∞–ø 3: XP –∏ —É—Ä–æ–≤–Ω–∏ (2 —á–∞—Å–∞)

1. add_xp –º–µ—Ç–æ–¥ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π level up
2. –†–∞—Å—á–µ—Ç next_level_xp (—Ñ–æ—Ä–º—É–ª–∞: 100 * level –∏–ª–∏ —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è)
3. Level up —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —ç–º–æ–¥–∑–∏

### –≠—Ç–∞–ø 4: Learning profile updates (2-3 —á–∞—Å–∞)

1. update_learning_profile –º–µ—Ç–æ–¥
2. –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (—Ä–∞–∑ –≤ –¥–µ–Ω—å)
3. Milestone notifications
4. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª—è (–∑–≤–µ–∑–¥–æ—á–∫–∏, –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã)

### –≠—Ç–∞–ø 5: Streak system (1-2 —á–∞—Å–∞)

1. –†–∞—Å—á–µ—Ç streak –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Å—Å–∏–∏
2. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ streak (3, 7, 14, 30 –¥–Ω–µ–π)
3. –ú—è–≥–∫–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ —Ä–∞–∑—Ä—ã–≤ streak

### –≠—Ç–∞–ø 6: Emotional history (2 —á–∞—Å–∞)

1. EmotionalHistory –∫–ª–∞—Å—Å —Å log_emotion
2. –ê–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (get_emotion_patterns)
3. –°–≤—è–∑—å —ç–º–æ—Ü–∏–π —Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º–∏ (get_emotion_triggers)

### –≠—Ç–∞–ø 7: Achievements (3-4 —á–∞—Å–∞)

1. –ë–∞–∑–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ achievement (5-10 –¥–ª—è MVP)
2. –£—Å–ª–æ–≤–∏—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (quests completed, streak, locations visited)
3. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–µ
4. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (—Å–ø–∏—Å–æ–∫ achievement –≤ –ø—Ä–æ—Ñ–∏–ª–µ)

### –≠—Ç–∞–ø 8: Adaptation engine (3-4 —á–∞—Å–∞)

1. AdaptationEngine —Å –º–µ—Ç–æ–¥–æ–º analyze_user
2. –õ–æ–≥–∏–∫–∞ adjust_difficulty –Ω–∞ –æ—Å–Ω–æ–≤–µ completion_rate
3. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ quest_type –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏–∏
4. Reality Bridge frequency –∞–¥–∞–ø—Ç–∞—Ü–∏—è

### –≠—Ç–∞–ø 9: Visualization (2-3 —á–∞—Å–∞)

1. ProgressFormatter –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
2. ASCII/—ç–º–æ–¥–∑–∏ –≥—Ä–∞—Ñ–∏–∫–∏ (learning profile, XP bar)
3. –ö–æ–º–∞–Ω–¥–∞ /profile –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

## –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏

### 1. –°–µ—Å—Å–∏—è –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–±–æ—Ç —É–ø–∞–ª –∏–ª–∏ —Ä–µ–±–µ–Ω–æ–∫ –ø—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä—ã–ª)

- –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ –æ—Ç–∫—Ä—ã—Ç–∞—è —Å–µ—Å—Å–∏—è
- –ï—Å–ª–∏ –¥–∞ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Å —Ç–µ–∫—É—â–∏–º timestamp
- –ù–µ —Å—á–∏—Ç–∞—Ç—å —ç—Ç–æ –æ—à–∏–±–∫–æ–π, –ø—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä—ã—Ç—å

### 2. Learning profile –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã (< 0 –∏–ª–∏ > 10)

- –í–∞–ª–∏–¥–∞—Ü–∏—è: min=0, max=10
- –ï—Å–ª–∏ –≤—ã—Ö–æ–¥ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã - –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∏ –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å warning

### 3. XP overflow (—Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ XP –Ω–∞—á–∏—Å–ª–µ–Ω–æ –∑–∞ —Ä–∞–∑)

- –õ–∏–º–∏—Ç –Ω–∞ max XP –∑–∞ –æ–¥–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 50)
- –ï—Å–ª–∏ –±–æ–ª—å—à–µ - –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∏ –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å

### 4. Streak calculation –ø—Ä–∏ —Å–º–µ–Ω–µ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å timezone –∏–∑ preferences
- –°—á–∏—Ç–∞—Ç—å "–¥–µ–Ω—å" –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ —Ä–µ–±–µ–Ω–∫–∞

### 5. User profile JSON —Ñ–∞–π–ª –ø–æ–≤—Ä–µ–∂–¥–µ–Ω

- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å JSON
- –ï—Å–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω - –ø–æ–ø—ã—Ç–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ backup
- –ï—Å–ª–∏ –Ω–µ—Ç backup - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º

## –û–±—ä–µ–º —Ä–∞–±–æ—Ç

### –í—Ö–æ–¥–∏—Ç –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é

- ProgressTracker —Å session tracking, XP, —É—Ä–æ–≤–Ω–∏
- LearningProfileAnalyzer —Å –∏—Å—Ç–æ—Ä–∏–µ–π –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π
- EmotionalHistory —Å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ –∏ —Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏
- AdaptationEngine —Å –±–∞–∑–æ–≤–æ–π –ª–æ–≥–∏–∫–æ–π –∞–¥–∞–ø—Ç–∞—Ü–∏–∏
- Achievements —Å–∏—Å—Ç–µ–º–∞ (5-10 –±–∞–∑–æ–≤—ã—Ö achievement)
- ProgressFormatter –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ user profile (JSON)
- –ö–æ–º–∞–Ω–¥—ã: /profile, /stats, /achievements
- Streak system —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏

### –ù–µ –≤—Ö–æ–¥–∏—Ç –≤ MVP

- –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏ (—Ç–æ–ª—å–∫–æ ASCII/—ç–º–æ–¥–∑–∏ –¥–ª—è MVP)
- –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –ø–∞–Ω–µ–ª—å (parent dashboard) - –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ñ–∏—á–∞
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö (CSV, PDF –æ—Ç—á–µ—Ç—ã)
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (leaderboard)
- AI-–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Å–∞–π—Ç—ã (–ø–æ–∫–∞ —Å—Ç–∞—Ç–∏—á–Ω—ã–µ)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ (Google Analytics, Mixpanel)
- –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (—Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤–∞—è)

## –î–æ–ø—É—â–µ–Ω–∏—è

- **–î–æ–ø—É—â–µ–Ω–∏–µ 1**: JSON —Ñ–∞–π–ª—ã –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è user profile –≤ MVP. –ï—Å–ª–∏ > 100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π - –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ SQLite.
- **–î–æ–ø—É—â–µ–Ω–∏–µ 2**: –†–µ–±–µ–Ω–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–¥–Ω–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (–Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏). –ï—Å–ª–∏ –Ω—É–∂–Ω–æ - Telegram ID —Ä–µ—à–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É.
- **–î–æ–ø—É—â–µ–Ω–∏–µ 3**: –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –ø–∞–Ω–µ–ª—å –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞ –¥–ª—è MVP. –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–æ—Ç –∏–ª–∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
- **–î–æ–ø—É—â–µ–Ω–∏–µ 4**: Learning profile –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–∏–Ω–µ–π–Ω—ã–µ (+2, +1). –ü–æ–∑–∂–µ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–µ–ª–∏–Ω–µ–π–Ω—ã–µ (–ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∏–µ).
- **–î–æ–ø—É—â–µ–Ω–∏–µ 5**: –ê–¥–∞–ø—Ç–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–∞–≤–∏–ª (if-else). AI-–∞–¥–∞–ø—Ç–∞—Ü–∏—è –≤ –±—É–¥—É—â–µ–º.

## –û—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

1. **–ù—É–∂–µ–Ω –ª–∏ cap –Ω–∞ level?** –ò–ª–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ä–æ—Å—Ç? (–î–ª—è MVP - –¥–æ level 10, –ø–æ—Ç–æ–º –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å)
2. **–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ —Ä–µ–±–µ–Ω–∫—É –¥–µ—Ç–∞–ª—å–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É?** –ò–ª–∏ —Ç–æ–ª—å–∫–æ highlights? (Highlights –¥–ª—è —Ä–µ–±–µ–Ω–∫–∞, –¥–µ—Ç–∞–ª—å–Ω–∞—è –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª—è)
3. **–ö–∞–∫ —á–∞—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è—Ç—å learning profile history?** –†–∞–∑ –≤ –¥–µ–Ω—å –∏–ª–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∫–≤–µ—Å—Ç–∞? (–†–∞–∑ –≤ –¥–µ–Ω—å –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è)
4. **Backup user profile - –∫–∞–∫ —á–∞—Å—Ç–æ?** –†–∞–∑ –≤ –¥–µ–Ω—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏? (–î–∞, —Ä–∞–∑ –≤ –¥–µ–Ω—å –≤ 00:00 –ø–æ UTC)

## Acceptance criteria

### Session tracking

- [ ] –ü—Ä–∏ –≤—Ö–æ–¥–µ –≤ –±–æ—Ç–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è —Å–µ—Å—Å–∏—è —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º ID
- [ ] –í—Å–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ —Å–µ—Å—Å–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è (quest, location, emotion)
- [ ] –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ —Å–µ—Å—Å–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –ø–æ–¥—Å—á–µ—Ç–æ–º –∏—Ç–æ–≥–æ–≤
- [ ] –ï—Å–ª–∏ —Å–µ—Å—Å–∏—è –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –≤—Ö–æ–¥–µ

### XP –∏ —É—Ä–æ–≤–Ω–∏

- [ ] –ü–æ—Å–ª–µ –∫–≤–µ—Å—Ç–∞ –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è XP (5-20 –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏)
- [ ] –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç level up
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "‚ú® –£–†–û–í–ï–ù–¨ 3! ‚ú®"
- [ ] –ö–æ–º–∞–Ω–¥–∞ /profile –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –∏ XP

### Learning profile

- [ ] –ü–æ—Å–ª–µ –∫–≤–µ—Å—Ç–∞ learning profile –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, understanding_meaning +2)
- [ ] –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ milestone (5, 10) –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- [ ] –ò—Å—Ç–æ—Ä–∏—è learning profile —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ä–∞–∑ –≤ –¥–µ–Ω—å
- [ ] –ö–æ–º–∞–Ω–¥–∞ /profile –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π learning profile —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π

### Streak

- [ ] –ü—Ä–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–º –≤—Ö–æ–¥–µ streak —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è
- [ ] –ü—Ä–∏ –ø—Ä–æ–ø—É—Å–∫–µ –¥–Ω—è streak —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ 1
- [ ] –ü—Ä–∏ streak 3, 7, 14 –¥–Ω–µ–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- [ ] –ö–æ–º–∞–Ω–¥–∞ /profile –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π streak

### Emotional history

- [ ] –ö–∞–∂–¥–∞—è —Å–º–µ–Ω–∞ —ç–º–æ—Ü–∏–∏ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏—é
- [ ] EmotionalHistory.get_emotion_patterns() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∑–∞ 7 –¥–Ω–µ–π
- [ ] AdaptationEngine –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

### Achievements

- [ ] –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É—Å–ª–æ–≤–∏—è achievement —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ: –ü–µ—Ä–≤—ã–π —à–∞–≥!"
- [ ] –ö–æ–º–∞–Ω–¥–∞ /achievements –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–µ—Å—Å –∫ —Å–ª–µ–¥—É—é—â–∏–º achievement

### Adaptation

- [ ] AdaptationEngine.adjust_difficulty() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç "easy" –µ—Å–ª–∏ completion_rate < 30%
- [ ] –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ quest_type —É—á–∏—Ç—ã–≤–∞—é—Ç –∏—Å—Ç–æ—Ä–∏—é —É—Å–ø–µ—Ö–æ–≤
- [ ] Reality Bridge –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç—Å—è —Ä–µ–∂–µ, –µ—Å–ª–∏ completion_rate < 20%

### –†—É—á–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π –ø—Ä–æ–≤–µ—Ä–∫–∏

1. –í–æ–π—Ç–∏ –≤ –±–æ—Ç–∞ ‚Üí —É–≤–∏–¥–µ—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å —É—Ä–æ–≤–Ω–µ–º –∏ streak
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–≤–µ—Å—Ç ‚Üí –ø–æ–ª—É—á–∏—Ç—å +10 XP, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å learning profile (+2 –∫ understanding_meaning)
3. –í—ã–ø–æ–ª–Ω–∏—Ç—å –µ—â–µ 2 –∫–≤–µ—Å—Ç–∞ ‚Üí –ø–æ–ª—É—á–∏—Ç—å level up (‚ú® –£–†–û–í–ï–ù–¨ 2! ‚ú®)
4. –ö–æ–º–∞–Ω–¥–∞ /profile ‚Üí —É–≤–∏–¥–µ—Ç—å: —É—Ä–æ–≤–µ–Ω—å 2, XP 45/100, streak 1 –¥–µ–Ω—å, learning profile —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π
5. –í–æ–π—Ç–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å ‚Üí streak —É–≤–µ–ª–∏—á–∏–ª—Å—è –¥–æ 2
6. –í—ã–ø–æ–ª–Ω–∏—Ç—å 3 –∫–≤–µ—Å—Ç–∞ –ø–æ–¥—Ä—è–¥ 3 –¥–Ω—è ‚Üí –ø–æ–ª—É—á–∏—Ç—å achievement "–¢—Ä–∏ –¥–Ω—è –ø–æ–¥—Ä—è–¥ üî•"
7. –ö–æ–º–∞–Ω–¥–∞ /achievements ‚Üí —É–≤–∏–¥–µ—Ç—å —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ achievement
8. –°–º–µ–Ω–∏—Ç—å —ç–º–æ—Ü–∏—é —Å "interest" –Ω–∞ "tiredness" ‚Üí –±–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç Forest of Calm

## Definition of Done

- [ ] ProgressTracker —Å session tracking, XP, —É—Ä–æ–≤–Ω—è–º–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [ ] LearningProfileAnalyzer —Å –∏—Å—Ç–æ—Ä–∏–µ–π –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] EmotionalHistory —Å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [ ] AdaptationEngine —Å –±–∞–∑–æ–≤–æ–π –ª–æ–≥–∏–∫–æ–π –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Achievements —Å–∏—Å—Ç–µ–º–∞ —Å 5-10 –±–∞–∑–æ–≤—ã–º–∏ achievement —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- [ ] ProgressFormatter –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ö–æ–º–∞–Ω–¥—ã /profile, /stats, /achievements –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –±–æ—Ç–∞
- [ ] Streak system —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –õ–æ–≥–∏ –¥–ª—è –≤—Å–µ—Ö –∫–ª—é—á–µ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π (level up, achievement unlock, streak)
- [ ] –ö—Ä–∞—Ç–∫–∏–π README –≤ docs/features/progress_tracking.md —Å–æ–∑–¥–∞–Ω

## –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ NFR –¥–ª—è MVP

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ó–∞–≥—Ä—É–∑–∫–∞ user profile –∏–∑ JSON: <30ms
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ user profile: <50ms
- –†–∞—Å—á–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞: <30ms
- –ê–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (7 –¥–Ω–µ–π): <100ms
- –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: –¥–æ 100

### –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å

- User profile backup —Ä–∞–∑ –≤ –¥–µ–Ω—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ï—Å–ª–∏ JSON –ø–æ–≤—Ä–µ–∂–¥–µ–Ω - –ø–æ–ø—ã—Ç–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ backup
- –ï—Å–ª–∏ session –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –≤—Ö–æ–¥–µ
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π profile (–≥—Ä–∞–Ω–∏—Ü—ã 0-10 –¥–ª—è learning_profile)

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —Ä–µ—Å—É—Ä—Å–∞–º

- User profile JSON: –¥–æ 50KB
- Session history: –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Å–µ—Å—Å–∏–π (—Å—Ç–∞—Ä—ã–µ –∞—Ä—Ö–∏–≤–∏—Ä—É—é—Ç—Å—è)
- Emotional history: –ø–æ—Å–ª–µ–¥–Ω–∏–µ 100 –∑–∞–ø–∏—Å–µ–π (—Å—Ç–∞—Ä—ã–µ –∞—Ä—Ö–∏–≤–∏—Ä—É—é—Ç—Å—è)
- Daily stats –∞–≥—Ä–µ–≥–∞—Ç—ã: –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- User profile –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç PII (—Ç–æ–ª—å–∫–æ user_id, telegram_id)
- –õ–æ–≥–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–æ–ª–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –¥–µ—Ç–µ–π (—Ç–æ–ª—å–∫–æ –º–µ—Ç—Ä–∏–∫–∏)
- Backup —Ñ–∞–π–ª—ã –≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ (–Ω–µ –Ω–∞ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö –¥–ª—è MVP)
- –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –ø–∞–Ω–µ–ª—å (–µ—Å–ª–∏ –±—É–¥–µ—Ç) —Ç—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

## –ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å

### –õ–æ–≥–∏

- INFO: "User {user_id} started session {session_id}"
- INFO: "User {user_id} gained {xp} XP, total: {total_xp}"
- INFO: "User {user_id} leveled up to level {level}"
- INFO: "User {user_id} unlocked achievement {achievement_id}"
- INFO: "User {user_id} streak: {streak_days} days"
- ERROR: "Failed to load user profile {user_id}: {error}"
- WARNING: "User profile {user_id} JSON is corrupted, restoring from backup"

### –ú–µ—Ç—Ä–∏–∫–∏

- –°—á–µ—Ç—á–∏–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è —Å–µ—Å—Å–∏–∏
- –°—á–µ—Ç—á–∏–∫ level ups
- –°—á–µ—Ç—á–∏–∫ achievement unlocks
- –°—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ learning_profile dimensions
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–º–æ—Ü–∏–π (—Ç–æ–ø-3)

### –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞

- Span: session_lifecycle (–æ—Ç start –¥–æ end)
- Span: profile_update (–æ—Ç –∑–∞–ø—Ä–æ—Å–∞ –¥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è)
- Span: adaptation_analysis (–æ—Ç –∑–∞–ø—Ä–æ—Å–∞ –¥–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π)

## –†–µ–ª–∏–∑

- –í–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ feature flag: `features.progress_tracking.enabled`
- –ï—Å–ª–∏ —Ñ–ª–∞–≥ –≤—ã–∫–ª—é—á–µ–Ω ‚Üí –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (—Ç–æ–ª—å–∫–æ –∫–≤–µ—Å—Ç—ã –∏ –ª–æ–∫–∞—Ü–∏–∏)
- –ü–ª–∞–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:
  1. –¢–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ: 5 —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  2. Staging: 20% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ 48 —á–∞—Å–æ–≤
  3. Production: 50% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ 1 –Ω–µ–¥–µ–ª—è
  4. Production: 100% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –û—Ç–∫–∞—Ç

### –£—Å–ª–æ–≤–∏—è –æ—Ç–∫–∞—Ç–∞

- –û—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ user profile >10%
- –û—à–∏–±–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è profile >5%
- –ñ–∞–ª–æ–±—ã –Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å (>10 –∑–∞ 1 —á–∞—Å)
- Performance –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è (–≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ >500ms)

### –®–∞–≥–∏ –æ—Ç–∫–∞—Ç–∞

1. –í—ã–∫–ª—é—á–∏—Ç—å feature flag: `features.progress_tracking.enabled = false`
2. –ë–æ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ —Ä–µ–∂–∏–º—É –±–µ–∑ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
3. User profiles –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã)
4. –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã
5. –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è - –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —Ä–µ–ª–∏–∑ —Å 20% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏–∏

### –†–∏—Å–∫ 1: JSON —Ñ–∞–π–ª—ã –Ω–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è (> 100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è**:
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–∑–º–µ—Ä–∞ JSON —Ñ–∞–π–ª–æ–≤
- –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ 100KB - –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ SQLite
- –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞—Ä–∞–Ω–µ–µ

### –†–∏—Å–∫ 2: –î–µ—Ç–∏ –Ω–µ –ø–æ–Ω–∏–º–∞—é—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å (XP, —É—Ä–æ–≤–Ω–∏)

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è**:
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ñ–æ–∫—É—Å-–≥—Ä—É–ø–ø–æ–π –¥–µ—Ç–µ–π
- –£–ø—Ä–æ—Å—Ç–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é (–±–æ–ª—å—à–µ —ç–º–æ–¥–∑–∏, –º–µ–Ω—å—à–µ —Ü–∏—Ñ—Ä)
- –î–æ–±–∞–≤–∏—Ç—å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º level up

### –†–∏—Å–∫ 3: Streak —Å–æ–∑–¥–∞–µ—Ç —Å—Ç—Ä–µ—Å—Å (—Ä–µ–±–µ–Ω–æ–∫ –±–æ–∏—Ç—Å—è –ø–æ—Ç–µ—Ä—è—Ç—å)

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è**:
- –ú—è–≥–∫–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ —Ä–∞–∑—Ä—ã–≤ streak (–Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞–∫ –Ω–µ—É–¥–∞—á—É)
- –û–ø—Ü–∏—è –æ—Ç–∫–ª—é—á–∏—Ç—å streak notifications
- –§–æ–∫—É—Å –Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ, –∞ –Ω–µ –Ω–∞ streak

### –†–∏—Å–∫ 4: Learning profile –Ω–µ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è**:
- A/B —Ç–µ—Å—Ç –≤–µ—Å–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–∏–π (+1, +2, +3)
- –°–±–æ—Ä —Ñ–∏–¥–±–µ–∫–∞ –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª–µ–π/—É—á–∏—Ç–µ–ª–µ–π
- –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –æ—Ü–µ–Ω–∫–∞–º–∏ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã)

### –†–∏—Å–∫ 5: –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (—Å–ª–∏—à–∫–æ–º –ª–µ–≥–∫–æ/—Å–ª–æ–∂–Ω–æ)

**–ú–∏—Ç–∏–≥–∞—Ü–∏—è**:
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ AdaptationEngine
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ completion_rate –¥–æ –∏ –ø–æ—Å–ª–µ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏
- –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–æ–≤ (30%, 80%) –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç–µ–∫–∞

- **–Ø–∑—ã–∫**: Python 3.11+
- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: python-telegram-bot 20.x
- **–•—Ä–∞–Ω–∏–ª–∏—â–µ**: JSON-—Ñ–∞–π–ª—ã (–¥–ª—è MVP), –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ SQLite
- **Backup**: –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∫–æ–ø–∏–∏ JSON –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –ø–∞–ø–∫–µ
- **–î–µ–ø–ª–æ–π**: Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ

## –°–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–ª–∞–Ω–∞ –ø–µ—Ä–µ–¥ –≤—ã–¥–∞—á–µ–π

- [x] –ù–µ—Ç –∫–æ–¥–∞ –∏ –ø—Å–µ–≤–¥–æ–∫–æ–¥–∞ (—Ç–æ–ª—å–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏)
- [x] –ó–∞–ø–æ–ª–Ω–µ–Ω—ã scope, acceptance, risk, release
- [x] –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞: IP-05-progress-tracking.md
- [x] –ù–µ—Ç —É–ø–æ–º–∏–Ω–∞–Ω–∏–π —Å–µ–∫—Ä–µ—Ç–æ–≤ –∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö URL
- [x] –í—Å–µ –ø—É—Ç–∏ –≤ POSIX-—Ñ–æ—Ä–º–∞—Ç–µ

## –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ "–ª–æ–º–∫–æ–π" API

- [x] –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–Ω–µ—à–Ω–∏—Ö –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π API (MVP, –Ω–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤)
- [x] –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º—ã—Ö –∑–∞–¥–∞—á –≤ —Ç–µ–∫—É—â–µ–º —Å–ø—Ä–∏–Ω—Ç–µ

## –ü—Ä–æ—Ñ–∏–ª—å —è–∑—ã–∫–∞

- primary_language: python
- stdlib_preferred: true
- external_libs: python-telegram-bot (UI), json (—Ö—Ä–∞–Ω–µ–Ω–∏–µ), datetime/timezone (–≤—Ä–µ–º—è)
